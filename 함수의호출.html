<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=
    , initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // - 함수 sum을 호출하기 위해 sum.apply(o1)를 쓴다.

        // - o1을 sum.apply의 인자로 주게 되면
        // sum.apply(o1)은 독립적으로 있던 함수 sum을
        // 객체 o1에 속하게 하여 method로 만들고
        // 그렇게 sum.apply(o1)가 o1.sum()이 되어 동작을 하게 되면
        // sum을 o1에 속하지 않게 한다. (안그러면 sum함수의 내용도 다 더해버리니까..)

        // - method sum함수에 함수인자로 들어온 o1은
        // this=함수인자이므로 sum의 this로 들어가게 된다.

        // 즉, 어떠한 객체와 독립적으로 존재하는 함수를
        // 함수명.apply(객체명)로 불러내면

        // 그 순간 그 함수는 그 객체의 method가 되어
        // 객체명.함수명을 한 샘이 되는 것이다.

        // (원래는 객체 안에 함수가 들어있는 관계-함수가 method인 경우-여야지
        // 객체명.함수명으로 호출이 가능한건데
        // apply를 통해 그렇게 호출한 샘으로 치는 것이다.) 

        o1 = {
            val1: 1,
            val2: 2,
            val3: 3
        }
        o2 = {
            v1: 10,
            v2: 50,
            v3: 100,
            v4: 25
        }

        function sum() {
            var _sum = 0;
            for (name in this) {
                _sum += this[name];
            }
            return _sum;
        }
        alert(sum.apply(o1)) // 6
        alert(sum.apply(o2)) // 185
    </script>
</body>

</html>